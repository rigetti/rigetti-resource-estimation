Copyright
---------

Copyright 2022-2024 Rigetti & Co, LLC

This Computer Software is developed under Agreement HR00112230006 between Rigetti & Co, LLC and
the Defense Advanced Research Projects Agency (DARPA). Use, duplication, or disclosure is subject
to the restrictions as stated in Agreement HR00112230006 between the Government and the Performer.
This Computer Software is provided to the U.S. Government with Unlimited Rights; refer to LICENSE
file for Data Rights Statements. Any opinions, findings, conclusions or recommendations expressed
in this material are those of the author(s) and do not necessarily reflect the views of the DARPA.

Use of this work other than as specifically authorized by the U.S. Government is licensed under
the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance
with the License. You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License
is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
or implied. See the License for the specific language governing permissions and limitations under
the License.


# Changelog

### Version 0.23.6

* Change log and packaging updates to prepare for public release.

### Version 0.23.5

* Fixed hard-coded mention of `params.yaml` in console reporting.

### Version 0.23.4

* Add passthrough of circuit decomposition information to output.

### Version 0.23.3

* When resource estimation fails due to insufficient physical resources, zero resources are now reported and estimation completes successfully. Previously, an error would be raised which would prevent batch execution over many circuits.

### Version 0.23.2

* Documentation improvements.

### Version 0.23.1

* We have improved how distillation and consumption times are calculated in [hardware_components.py](src/rigetti_resource_estimation/hardware_components.py) based on the following:
  * The T-gates from arbitrary Rz decompositions cannot be parallelized for consumption measurements.
  * The pre-factor of 8 in a tock of surface code cycle should also be included in `t_intra_magicstates` calculations.

### Version 0.23.0

* We have switched to a bilinear-bus, two-fridge architecture for the FTQC by default due to better performance in the output time resources. See [hardware_components.py](src/rigetti_resource_estimation/hardware_components.py) for details.

* We have integrated a new version of Jabalizer, v0.5.2.

### Version 0.22.0

* We have integrated a new version of Jabalizer, v0.5.0, with built-in Pauli Tracker support, universal graph output, and stitching capabilities.

### Version 0.21.2

* We have added independently configurable T-state transfer and graph handover characteristic times to the example config file, [params.yaml](src/rigetti_resource_estimation/params.yaml), plus some other minor modifications. These changes allow users to switch architectures from "tri-fridge with T-distilleries separated" to "single or two-fridge with T-distilleries inside" by setting appropriate config parameters.

* More output parameters were added to RRE's `stdout` and default CSV.

### Version 0.21.1

* Improved [README.md](README.md).
* Fixed a bug in the calculations of hardware times in [hardware_components.py](src/rigetti_resource_estimation/hardware_components.py).

### Version 0.21.0.1

* Updated CI and Makefile to build Python package wheel and capture this and documentation as a build artifact.

### Version 0.21.0

* We have integrated the new versions of [Pauli Tracker](https://github.com/QSI-BAQS/pauli_tracker.git) and [MBQC Scheduling](https://github.com/taeruh/mbqc_scheduling.git) libraries, now with PyPI releases.

### Version 0.20.0

* We have deprecated hard-coded QSP building blocks format for decomposed circuits, which was limited only to specific QSP-style QASM inputs. In its place:  
  * We have introduced a flexible 'RRE custom JSON with decomposed QASMs' standard. The new JSON format can input QASM strings from serial circuit decomposition, their ordering, and other metadata.
  * An example of such a JSON file can be found in "./examples/input/qft4-decomposed3.json".

* For decomposed input circuits, the substrate scheduling is now performed on each time-sliced block, and the full schedule is generated by concatenating these sub-schedules in serial assuming an interleaving architecture.

* We have adopted a new bilinear-bus tri-fridge architecture for the resource estimations; see [hardware_components.py](src/rigetti_resource_estimation/hardware_components.py).
  * The new architecture includes two interconnected fridge modules for algorithmic time-ordered subcircuit widgets. These run interleaving subgraphs. One module is growing the graph, i.e., by preparing a new subgraph inside. In contrast, the other module consumes the prior subgraph, which is assumed always to take longer than any graph preparation. The quantum bus inside the subcircuit widgets is bilinear, and ancilla qubits are laid out in a comb-like pattern. A third fridge is also connected to subcircuit modules and optimized to host multiple parallelized T-factory widgets up to a limit the `num_intermodule_pipes` parameter allows.

### Version 0.19.3

* Makefile was updated so that repeated executions of `make update-modules` do not emit errors related to existing git directories.

### Version 0.19.2

* Following the notation used by similar libraries and QEC literature, we have switched to the physical-to-logical error scaling relation of P_L=C(p/p_th)^((d+1)/2) for estimation and fitting purposes.

### Version 0.19.1

* Required no. of logical qubits, Delta (scaling all space costs) is calculated significantly more accurately based on Pauli Frames' "path" information. Previously, we used the proxy of max graph degree for Delta, which is not always a valid upper bound.

* A more accurate estimation of Delta means we can now test if RRE's graph stitching was valid to a desired tolerance as done at the end of [test_verify_RRE.py](tests/verify_n_validate/test_verify_RRE.py).

### Version 0.19.0

* A new version of [Jabalizer](https://github.com/QSI-BAQS/Jabalizer.jl/tree/track_paulis), equipped with Pauli Tracking capabilities, was integrated. Jabalizer is now added as a submodule and acts as the default and only available FT compiler. This version allows one to track Pauli Frames and apply corrections. This means for the first time, the graph states can be robustly verified and estimations should be improved.
  * A "robust verification test" was added for common QFT4 graphs in [test_robust_verification_jabalizer.py](tests/verify_n_validate/test_robust_verification_jabalizer.py) unit tests.

*  We have deprecated `.adjlist` format for storing the graph states in favor of new JSON outputs containing both graph and Pauli Frames info. 
